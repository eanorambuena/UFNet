<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Page</title>
    <link rel="stylesheet" href="../UFNet/css/style.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
</head>
<body>
    <script>
        function addFile(filename) {
            var supportedExtensions = [
                '', 'doc', 'docx', 'exe', 'jpg', 'js', 'mp4', 'pdf', 'hyperlink', 'png'
            ];
            var ext = filename.split('.')[Math.max(filename.split('.').length - 1, 0)].toLowerCase();
            var name = filename.slice(0, - ext.length - 1);
            if (!supportedExtensions.includes(ext)) {
                console.log('extension not supported: ' + ext);
                ext = 'undefined';
            }
            let address = filename;
            if (ext == undefined) {
                ext = '';
            }
            else if (ext=='hyperlink'){
                let code = name.split('.')[name.split('.').length - 1];
                let content = name.slice(0, - code.length - 1);
                if (code == 'url'){
                    name = content.split('.')[0];
                    let rawUrl = content.slice(name.length + 1, content.length);
                    let protocol = rawUrl.split('.')[0];
                    let url = rawUrl.slice(protocol.length + 1, rawUrl.length);
                    address = `${protocol}://${url}`;
                }
                else if (code == 'folder'){
                    address = `${content}/UFNet.index.html`;
                    name = content;
                }
            }
            document.write(`<a href="${address}" class="a-file"><div class="btn-file">` + 
                `<img src="../UFNet/icons/${ext}.png" alt="${ext} icons created by prettycons - Flaticon">` +
                `<div class="filename">${name}</div>` +
                `</div></a>`);
        }
    </script>
    <header>
        <div class="row">
            <div class="menu">
                <h1 class="title">Universitary Files Network</h1>
            </div>
        </div>
        <div class="div-h2">
            <h2 class="menu-item">./Videos</h2>
</div>
</header>
<main>
<div class="container">
    <div class="row">
        <script>
                    addFile('Maksim Goncharenok Video.mp4');                </script>
            </div>
        </div>
    </main>
    <footer></footer>
</body>
</html>
